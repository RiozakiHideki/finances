{% extends 'app/base.html' %}
{% block title %}Регистрация{% endblock %}

{% block content %}
    {% if not user.is_authenticated %}
        <body class="register-page">
            <h1 class="register-h1">Регистрация</h1>
            <form class="register form" method="post">
                {% csrf_token %}
            
                <div>
                    {{ form.first_name }}  <!-- Отображаем поле username -->
                    {% if form.first_name.errors %}
                            <ul class="errorlist" style="color: red;">
                                {% for error in form.username.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                    {% endif %}
                </div>

                <div>
                    {{ form.username }}  <!-- Отображаем поле username -->
                    {% if form.username.errors %}
                            <ul class="errorlist" style="color: white;">
                                {% for error in form.username.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                    {% endif %}
                    <span style="font-size: small; color: white">150 символов или меньше. Только буквы, цифры и символы @.+-_</span>
                </div>

                <div>
                    {{ form.email }}  <!-- Отображаем поле email -->
                    {% if form.email.errors %}
                            <ul class="errorlist" style="color: white;">
                                {% for error in form.email.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                    {% endif %}
                </div>

                <div>
                    {{ form.password1 }}  <!-- Отображаем поле password1 -->
                    {% if form.password1.errors %}
                            <ul class="errorlist" style="color: white;">
                                {% for error in form.password1.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                    {% endif %}
                    <ul style="font-size: small; color: white">
                        <li>Ваш пароль не должен быть похожим на другие ваши персональные данные.</li>
                        <li>Ваш пароль должен содержать не менее 8 символов.</li>
                        <li>Ваш пароль не может быть слишком лёгким.</li>
                        <li>Ваш пароль не может состоять из одних цифр.</li>
                    </ul>
                </div>

                <div>
                    {{ form.password2 }}  <!-- Отображаем поле password2 -->
                    {% if form.password2.errors %}
                            <ul class="errorlist" style="color: white;">
                                {% for error in form.password2.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                    {% endif %}
                    <span style="font-size: small; color: white">Введите пароль повторно</span>
                </div>

                <button class="register-button" type="submit">Регистрация</button>
            </form>
        </body>
        {% else %}
            <p>Вы уже вошли в систему</p>
            <a href="{% url 'home' %}">На главную</a>
        
    {% endif %}
{% endblock %}